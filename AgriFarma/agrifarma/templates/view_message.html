{% extends 'layouts/base.html' %}
{% block title %}View Message{% endblock %}
{% block breadcrumb %}
  <a href="{{ url_for('main.index') }}" class="af-breadcrumb-home"><i class="bi bi-house-door-fill"></i><span class="visually-hidden">Home</span></a>
  <i class="bi bi-chevron-right separator" aria-hidden="true"></i>
  <a href="{{ url_for('consultancy.inbox') }}">Inbox</a>
  <i class="bi bi-chevron-right separator" aria-hidden="true"></i>
  <span class="current">Message</span>
{% endblock %}
{% block content %}
<div class="container af-mt-lg">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card" data-elevated="true">
        <div class="card-header bg-light">
          <h4 class="mb-0">{{ message.subject }}</h4>
        </div>
        <div class="card-body">
          <div class="mb-4">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <strong>From:</strong>
                {% if message.sender and message.sender.profile %}
                  {{ message.sender.profile.name or message.sender.username }}
                {% else %}
                  Unknown Sender
                {% endif %}
              </div>
              <small class="text-muted">{{ message.created_at.strftime('%Y-%m-%d %H:%M') }}</small>
            </div>
            <hr>
            <div class="message-content">
              {{ message.content|safe }}
            </div>
          </div>
          
          <div class="d-flex gap-2">
            <a href="{{ url_for('consultancy.inbox') }}" class="btn btn-outline-primary">
              <i class="bi bi-arrow-left me-1"></i>Back to Inbox
            </a>
            <a href="{{ url_for('consultancy.consultants') }}" class="btn btn-outline-secondary">
              <i class="bi bi-reply me-1"></i>Find consultants
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.message-content {
  white-space: pre-wrap;
  word-wrap: break-word;
  padding: 1.5rem;
  background-color: #f8f9fa;
  border-radius: 0.375rem;
  border-left: 4px solid #0d6efd;
}
</style>
{% endblock %}
